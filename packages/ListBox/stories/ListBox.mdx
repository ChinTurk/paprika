import { Meta, Props, Story } from "@storybook/addon-docs/blocks";
import { ImageOption } from "./stories.styles";
import ListBox from "../src";
import { images } from "./fixtures/images";
import * as characters from "./fixtures/characters";

# ListBox

The ListBox component allows users to select one or more options from a list contained within the component.

Main features:

- Ability to create custom list items.
- Ability to make singular or multiple item selections.
- Accessibility baked in:
    - Support for screen reader
    - Support for keyboard navigation ↑, ↓
    - API for keyboard events Enter and Space.

## Installation

```
yarn add @/paprika/listbox
```
or
```
npm install @paprika/listbox
```

## Usage

### Basic Single ListBox

The single ListBox creates a basic ListBox in which a user can make one selection at a time.

```js
    <ListBox></ListBox>
```

To add new list options simply add the child element ``` <ListBox.option></ListBox.option>``` to your ListBox.

```js
    <ListBox>
      <ListBox.Option>Option 1</ListBox.Option>
      <ListBox.Option>Option 2</ListBox.Option>
    </ListBox>
```
#### Result

<ListBox><ListBox.Option>Option 1</ListBox.Option><ListBox.Option>Option 2</ListBox.Option></ListBox>

### Adding a Filter to the ListBox

You can filter your ListBox by adding the ```ListBox.Filter```. This adds an input in which users can type to filter through the list options.

```js
    <ListBox>
      <ListBox.Filter />
      <ListBox.Option>Option 1</ListBox.Option>
      <ListBox.Option>Option 2</ListBox.Option>
    </ListBox>
```

#### Result

<ListBox><ListBox.Filter /><ListBox.Option>Option 1</ListBox.Option><ListBox.Option>Option 2</ListBox.Option></ListBox>

### Adding a Footer to the ListBox

You can add a footer to your ListBox by adding the ```ListBox.Footer```. This adds a footer to the bottom of the listBox when it is expanded. Users can select to Accept, Cancel, or Clear their current list option selections.

```js
    <ListBox>
      <ListBox.Option>Option 1</ListBox.Option>
      <ListBox.Option>Option 2</ListBox.Option>
      <ListBox.Footer />
    </ListBox>
```

#### Result

<ListBox><ListBox.Option>Option 1</ListBox.Option><ListBox.Option>Option 2</ListBox.Option><ListBox.Footer /></ListBox>

### Adding Custom children to the ListBox

You can customize the list options of your ListBox by changing the key and label properties. Here is an example in which the children elements have custom images added.

```js
  <ListBox height={320}>
    {images.map(image => (
      <ListBox.Option key={image.src} label={image.label}>
        <ImageOption>
          <img alt={image.label} src={image.src} />
        </ImageOption>
      </ListBox.Option>
    ))}
  </ListBox>
```

#### Result

<ListBox height={320}>{images.map(image => (<ListBox.Option key={image.src} label={image.label}><ImageOption><img alt={image.label} src={image.src} /></ImageOption></ListBox.Option>))}</ListBox>

### Adding inline to the ListBox

You can add inline to your ListBox to prevent the listBox from collapsing the list options. Simply add the ```isInline``` prop to the ListBox. 

```js
    <ListBox isInline>
      <ListBox.Popover zIndex={10000}>Anti-Heroes</ListBox.Popover>
      {characters.antiHeroes}
    </ListBox>
```

#### Result

<ListBox isInline><ListBox.Popover zIndex={10000}>Anti-Heroes</ListBox.Popover>{characters.antiHeroes}</ListBox>

### Adding disable to the ListBox

You can disable ListBox options that you dont want users to be able to select. Simply add the ```isDisabled``` prop to the ```ListBox.option``` that you wish to disable. 

```js
    <ListBox>
        <ListBox.Option isDisabled >Option 1</ListBox.Option>
        <ListBox.Option>Option 2</ListBox.Option>
  </ListBox>
```

#### Result

<ListBox><ListBox.Option isDisabled >Option 1</ListBox.Option><ListBox.Option>Option 2</ListBox.Option></ListBox>

### Adding an empty option to the ListBox

You can add an empty option to the ListBox by setting the ```label``` property to an empty string.

```js
  <ListBox>
    <ListBox.Option label="">&nbsp;</ListBox.Option>
    {characters.heroes}
    {characters.villians}
    {characters.antiHeroes}
  </ListBox>
```

#### Result

<ListBox><ListBox.Option label="">&nbsp;</ListBox.Option>{characters.heroes}{characters.villians}{characters.antiHeroes}</ListBox>

### Adding a preselected option to the ListBox

You can have the Listbox display a preselected option by using the ```defaultIsSelected``` property on the ```ListBox.option```. Set it equal to the option you wish to display.

```js
    <ListBox
      isInline
      onChange={activeOptionIndex => {
        console.log(activeOptionIndex);
      }}
    >
      {characters.antiHeroesRaw.map((item, index) => {
        return (
          <ListBox.Option key={item.label} defaultIsSelected={index === 4}>
            {item.label}
          </ListBox.Option>
        );
      })}
    </ListBox>
```

#### Result

<ListBox isInline onChange={activeOptionIndex => {console.log(activeOptionIndex);}}>{characters.antiHeroesRaw.map((item, index) => {return (<ListBox.Option key={item.label} defaultIsSelected={index === 4}>{item.label}</ListBox.Option>);})}</ListBox>

## FAQ

